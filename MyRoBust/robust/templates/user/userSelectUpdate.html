{% extends 'user/userBase.html' %}

{% block content %}

<!------------ Booking Page Body ------------>
<div class="container" style="position: relative; left: -30px">
  <form id="seatsUpdateForm" method="POST">
    <div class="row">
      <div class="col-md-4 mb-3">
        <div style="background-color: #e8e7e7; padding-top: 10px; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; border-radius: 5px; width: 370px; border-bottom-color: #a83332; border-bottom-style: solid">
          <h6><b>Select a Seat</b></h6>
        </div>
        <div style="background-color: #2c353c; padding-top: 10px; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; border-radius: 5px; width: 370px; border-bottom-color: #a83332; border-bottom-style: solid">
          <div class="bus" id="seatChoosen">
            <li class="row row--0">
              <ol class="A">
                <li class="seatdriver">
                  <input type="checkbox" disabled id="id-driver" />
                  <label for="id-driver">Occupied</label>
              </ol>
            </li>
            <ol>
              <li class="row row--1">
                <ol class="seats" type="A">
                  <li class="seat">
                    <input type="checkbox" id="1-1A" value="1A" class="seat-list"/>
                    <label for="1-1A">1A</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-1B" value="1B" class="seat-list"/>
                    <label for="1-1B">1B</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-1C" value="1C" class="seat-list"/>
                    <label for="1-1C">1C</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-1D" value="1D" class="seat-list"/>
                    <label for="1-1D">1D</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" disabled id="1E" value="1-1E" class="seat-list"/>
                    <label for="1-1E">1E</label>
                  </li>

                </ol>
              </li>
              <li class="row row--2">
                <ol class="seats">
                  <li class="seat">
                    <input type="checkbox" id="1-2A" value="2A" class="seat-list"/>
                    <label for="1-2A">2A</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-2B" value="2B" class="seat-list"/>
                    <label for="1-2B">2B</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-2C" value="2C" class="seat-list"/>
                    <label for="1-2C">2C</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-2D" value="2D" class="seat-list"/>
                    <label for="1-2D">2D</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-2E" value="2E" class="seat-list"/>
                    <label for="1-2E">2E</label>
                  </li>
                </ol>
              </li>
              <li class="row row--3">
                <ol class="seats" type="A">
                  <li class="seat">
                    <input type="checkbox" id="1-3A" value="3A" class="seat-list"/>
                    <label for="1-3A">3A</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-3B" value="3B" class="seat-list"/>
                    <label for="1-3B">3B</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-3C" value="3C" class="seat-list"/>
                    <label for="1-3C">3C</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-3D" value="3D" class="seat-list"/>
                    <label for="1-3D">3D</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-3E" value="3E" class="seat-list"/>
                    <label for="1-3E">3E</label>
                  </li>

                </ol>
              </li>
              <li class="row row--4">
                <ol class="seats" type="A">
                  <li class="seat">
                    <input type="checkbox" id="1-4A" value="4A" class="seat-list"/>
                    <label for="1-4A">4A</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-4B" value="4B" class="seat-list"/>
                    <label for="1-4B">4B</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-4C" value="4C" class="seat-list"/>
                    <label for="1-4C">4C</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-4D" value="4D" class="seat-list"/>
                    <label for="1-4D">4D</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-4E" value="4E" class="seat-list"/>
                    <label for="1-4E">4E</label>
                  </li>

                </ol>
              </li>
              <li class="row row--5">
                <ol class="seats" type="A">
                  <li class="seat">
                    <input type="checkbox" id="1-5A" value="5A" class="seat-list"/>
                    <label for="1-5A">5A</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-5B" value="5B" class="seat-list"/>
                    <label for="1-5B">5B</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-5C" value="5C" class="seat-list"/>
                    <label for="1-5C">5C</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-5D" value="5D" class="seat-list"/>
                    <label for="1-5D">5D</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-5E" value="5E" class="seat-list"/>
                    <label for="1-5E">5E</label>
                  </li>

                </ol>
              </li>
              <li class="row row--6">
                <ol class="seats" type="A">
                  <li class="seat">
                    <input type="checkbox" id="1-6A" value="6A" class="seat-list"/>
                    <label for="1-6A">6A</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-6B" value="6B" class="seat-list"/>
                    <label for="1-6B">6B</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-6C" value="6C" class="seat-list"/>
                    <label for="1-6C">6C</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-6D" value="6D" class="seat-list"/>
                    <label for="1-6D">6D</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-6E" value="6E" class="seat-list"/>
                    <label for="1-6E">6E</label>
                  </li>

                </ol>
              </li>
              <li class="row row--7">
                <ol class="seats" type="A">
                  <li class="seat">
                    <input type="checkbox" id="1-7A" value="7A" class="seat-list"/>
                    <label for="1-7A">7A</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-7B" value="7B" class="seat-list"/>
                    <label for="1-7B">7B</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-7C" value="7C" class="seat-list"/>
                    <label for="1-7C">7C</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-7D" value="7D" class="seat-list"/>
                    <label for="1-7D">7D</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-7E" value="7E" class="seat-list"/>
                    <label for="1-7E">7E</label>
                  </li>

                </ol>
              </li>
              <li class="row row--8">
                <ol class="seats" type="A">
                  <li class="seat">
                    <input type="checkbox" id="1-8A" value="8A" class="seat-list"/>
                    <label for="1-8A">8A</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-8B" value="8B" class="seat-list"/>
                    <label for="1-8B">8B</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-8C" value="8C" class="seat-list"/>
                    <label for="1-8C">8C</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-8D" value="8D" class="seat-list"/>
                    <label for="1-8D">8D</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-8E" value="8E" class="seat-list"/>
                    <label for="1-8E">8E</label>
                  </li>

                </ol>
              </li>
              <li class="row row--9">
                <ol class="seats" type="A">
                  <li class="seat">
                    <input type="checkbox" id="1-9A" value="9A" class="seat-list"/>
                    <label for="1-9A">9A</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-9B" value="9B" class="seat-list"/>
                    <label for="1-9B">9B</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-9C" value="9C" class="seat-list"/>
                    <label for="1-9C">9C</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-9D" value="9D" class="seat-list"/>
                    <label for="1-9D">9D</label>
                  </li>
                  <li class="seat">
                    <input type="checkbox" id="1-9E" value="9E" class="seat-list"/>
                    <label for="1-9E">9E</label>
                  </li>

                </ol>
              </li>
              <li class="row row--10">
                <ol class="seats" type="A">
                  <li class="seatnospace">
                    <input type="checkbox" id="1-10A" value="10A" class="seat-list"/>
                    <label for="1-10A">10A</label>
                  </li>
                  <li class="seatnospace">
                    <input type="checkbox" id="1-10B" value="10B" class="seat-list"/>
                    <label for="1-10B">10B</label>
                  </li>
                  <li class="seatnospace">
                    <input type="checkbox" id="1-10C" value="10C" class="seat-list"/>
                    <label for="1-10C">10C</label>
                  </li>
                  <li class="seatnospace">
                    <input type="checkbox" id="1-10D" value="10D" class="seat-list"/>
                    <label for="1-10D">10D</label>
                  </li>
                  <li class="seatnospace">
                    <input type="checkbox" id="1-10E" value="10E" class="seat-list">
                    <label for="1-10E">10E</label>
                  </li>
                  <li class="seatnospace">
                    <input type="checkbox" id="1-10F" value="10F" class="seat-list"/>
                    <label for="1-10F">10F</label>
                  </li>
                </ol>
              </li>
            </ol>
          </div>
          <div style="text-align: center">
            <h6 style="color: white">Vacant&nbsp;&nbsp;Occupied&nbsp;&nbsp;Selected&nbsp;&nbsp;Driver</h6>
            &nbsp;
            <li class="seatlegend">
              <input type="checkbox" id="legend-vacant" />
            </li>&nbsp;&nbsp;
            <li class="seatnospace">
              <input type="checkbox" disabled id="legend-occupied" />
              <label for="legend-occupied"></label>
            </li>&nbsp;&nbsp;&nbsp;
            <li class="seatlegend">
              <input type="checkbox" disabled id="legend-selected" />
              <label for="legend-selected"></label>
            </li>&nbsp;&nbsp;
            <li class="seatlegenddriver">
              <input type="checkbox" disabled id="legend-driver" />
              <label for="legend-driver"></label>
            </li>
          </div>
        </div>

      </div>

      <div class="col-md-4 mb-3" style="padding-left: 50px">
        <div style="background-color: #e8e7e7; padding-top: 10px; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; border-radius: 5px; width: 720px; border-bottom-color: #a83332; border-bottom-style: solid">
          <h6><b>Booking Details</b></h6>
        </div>
        <form id="submit_form" method="POST">
          {% csrf_token %}
        <input class="form-control" id="" name="booking_id" minlength="1" maxlength="100" value="{{booking_id}}" hidden>
        <div class="row" style="width: 900; padding-top: 15px">
          <div class="col-md-5 mb-3" style="width: 900;">
            <label for="busName">Bus Name</label>
            <input class="form-control" id="busName" name="busName" minlength="1" maxlength="100" value="{{bus.busName}}" readonly>
          </div>
          <div class="col-md-5 mb-3">
            <label for="plateNumber">Plate Number</label>
            <input class="form-control" id="plateNumber" name="plateNumber" minlength="2" maxlength="20" value="{{bus.plateNumber}}" style="text-transform: uppercase" readonly>
          </div>
        </div>

        <div class="row" style="width: 900">
          <div class="col-md-5 mb-3">
            <label for="destination">Destination</label>
            <input class="form-control" id="destination" name="busDestination" minlength="1" maxlength="50" value="{{bus.destination}}" style="text-transform: uppercase" readonly>
          </div>
          <div class="col-md-5 mb-3">
            <label>Date</label>
            <input class="form-control" onfocus="(this.type='date')" onblur="(this.type='text')" id="date" name="dateReservation" minlength="1" maxlength="30" value=" {{dateReservation}}" readonly>
          </div>
          <div class="col-md-3 mb-3">
            <label for="time">Time Departure</label>
            <input class="form-control" id="time" name="departureTime" minlength="1" maxlength="30" value="{{bus.departureTime}}" style="width: 220px" readonly>
          </div>
          <div class="col-md-3 mb-3">
            <label for="seatNumber" style="margin-left: 25px">Seat Number</label>
            <input type="text" class="form-control" id="seatNumber" name="seatNumber" value="" required maxlength="2" style="width: 220px; margin-left: 25px" readonly>
          </div>
          <div class="col-md-3 mb-3">
            <label for="fare" style="margin-left: 50px">Total Fare</label>
            <input class="form-control" id="fare" name="busFare" value="{{bus.busFare}}" required minlength="25" maxlength="25" style="width: 220px; margin-left: 50px" readonly>
          </div>
        </div>

        <br><br><br>

        <div style="background-color: #e8e7e7; padding-top: 10px; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; border-radius: 5px; width: 720px; border-bottom-color: #a83332; border-bottom-style: solid">
          <h6><b>Payment Details</b></h6>
        </div>
        <li style="list-style:none; padding-top: 25px">Available Balance: </li>
        <li style="list-style:none; padding-top: 10px">Total Fare: </li>
        <li style="list-style:none; padding-top: 10px">Remaining Balance: </li>

        <br><br><br>

        <hr class="mb-4" style="width: 720px">
        <div class="row">
          <div class="col-md-3 mb-3">
            <a type="button" class="btn btn1" style="color: white; border-radius: 3px; width: 180px; background-color: #a83332; height: 45px; margin-left: 170; padding:10px" id="id-Cancel" href="{% url 'robust:userReview_view' %}">CANCEL</a>
          </div>
          <div class="col-md-3 mb-3">
              <button type="submit" class="btn btn1" style="color: white; border-radius: 3px; width: 180px; background-color: #a83332; height: 45px; margin-left: 290; padding:10px" id="id-Cancel">UPDATE</a>
              <!--          <button type="submit" name="seatsUpdateBtn" id="seatsUpdateBtn" class="btn btn-sm btn-link" style="color: white; border-radius: 3px; width: 200px; background-color: #a83332; height: 45px; margin-left: 0; padding:10px"> UPDATE </button>-->
            </form>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

{% block footerinclude %}
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
<script>
  window.console = window.console || function(t) {};

</script>
<script>
  if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage("resize", "*");
  }

</script>

<!-- Char that will only accept numbers only -->
<script>
  function validate(evt) {
    var theEvent = evt || window.event;

    // Handle paste
    if (theEvent.type === 'paste') {
      key = event.clipboardData.getData('text/plain');
    } else {
      // Handle key press
      var key = theEvent.keyCode || theEvent.which;
      key = String.fromCharCode(key);
    }
    var regex = /[0-9]|\./;
    if (!regex.test(key)) {
      theEvent.returnValue = false;
      if (theEvent.preventDefault) theEvent.preventDefault();
    }
  }

</script>

<!---- Choosen Seat Scripts ---->
<script type="text/javascript">
  $('.seat-list').on('change', function() {
    $('.seat-list').not(this).prop('checked', false);
  });

</script>
<script>
  $('input[type="checkbox"]').on('click', function() {
    var is_checked = $(this).prop('checked');
    var val = '';
    if (is_checked)
      val = this.value;
    $('input[type="text"]').val(val);
  });

</script>

<!---- Restriction Script for Seat ---->
<script>
  $('input[type=checkbox]').change(function(e) {
    if ($('input[type=checkbox]:checked').length > 1) {
      $(this).prop('checked', false)
      alert("Only 1 seat is allowed per passenger");
    }
  })

</script>

{% endblock footerinclude %}
{% endblock content %}
